# Essential Aliases - Cross-platform and simple
# Only the most commonly used aliases

# Common aliases (work on both macOS and Linux)
alias ll='ls -la'
alias la='ls -A'
alias l='ls -CF'
alias ..='cd ..'
alias ...='cd ../..'
alias ....='cd ../../..'

# File operations
alias cp='cp -i'
alias mv='mv -i'
alias rm='rm -i'
alias mkdir='mkdir -p'

# Git aliases
alias g='git'
alias gs='git status'
alias ga='git add'
alias gc='git commit'
alias gp='git push'
alias gl='git pull'
alias gd='git diff'
alias gco='git checkout'
alias gb='git branch'

# Docker aliases
alias d='docker'
alias dc='docker-compose'
alias dcu='docker-compose up'
alias dcd='docker-compose down'

# Tool aliases
alias lg='lazygit'
alias ld='lazydocker'
alias y='yazi'
alias rg='ripgrep'

# Development aliases
alias dev='cd ~/dev'
alias dotfiles='cd ~/.local/share/chezmoi'

# macOS-specific aliases
{{ if eq .chezmoi.os "darwin" -}}
alias showfiles='defaults write com.apple.finder AppleShowAllFiles YES && killall Finder'
alias hidefiles='defaults write com.apple.finder AppleShowAllFiles NO && killall Finder'
alias flushdns='sudo dscacheutil -flushcache && sudo killall -HUP mDNSResponder'
alias cleanup='find . -name ".DS_Store" -delete'
{{ end -}}

# Linux-specific aliases
{{ if eq .chezmoi.os "linux" -}}
alias ls='ls --color=auto'
alias grep='grep --color=auto'
alias aptup='sudo apt update && sudo apt upgrade'
alias aptin='sudo apt install'
alias aptclean='sudo apt autoclean && sudo apt autoremove'
{{ end -}}

# Work-specific aliases (only if this is a work machine)
{{ if .is_work -}}
alias work='cd ~/work'
alias prod='kubectl config use-context production'
alias staging='kubectl config use-context staging'
alias dev='kubectl config use-context development'
{{ end -}}

# Function aliases (more complex operations)
# Quick backup of current directory
backup() {
    tar -czf "$(basename "$PWD")-$(date +%Y%m%d-%H%M%S).tar.gz" .
    echo "Backup created: $(basename "$PWD")-$(date +%Y%m%d-%H%M%S).tar.gz"
}

# Extract various archive formats
extract() {
    if [[ -f $1 ]]; then
        case $1 in
            *.tar.bz2) tar xjf $1 ;;
            *.tar.gz)  tar xzf $1 ;;
            *.bz2)     bunzip2 $1 ;;
            *.rar)     unrar x $1 ;;
            *.gz)      gunzip $1 ;;
            *.tar)     tar xf $1 ;;
            *.tbz2)    tar xjf $1 ;;
            *.tgz)     tar xzf $1 ;;
            *.zip)     unzip $1 ;;
            *.Z)       uncompress $1 ;;
            *.7z)      7z x $1 ;;
            *)         echo "'$1' cannot be extracted via extract()" ;;
        esac
    else
        echo "'$1' is not a valid file"
    fi
}

# Create a new directory and cd into it
mkcd() {
    mkdir -p "$1" && cd "$1"
}